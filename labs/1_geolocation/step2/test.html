<!DOCTYPE html>
<html>

<head>
<title>GeoLocation 2</title>
<script>
var statusDiv;

function init() {
	statusDiv = document.querySelector("#status");

	if(navigator.geolocation) {
		statusDiv.innerHTML = "Getting your location...";
		navigator.geolocation.getCurrentPosition(gotLocation,errorHandler);
	}
}

function gotLocation(position) {
	console.dir(position);
	statusDiv.innerHTML = "Got it. You are at " + position.coords.latitude + " latitude " + 
						  " and "+ position.coords.longitude + " longitude.";
}

function errorHandler(e) {
	console.dir(e);
	statusDiv.innerHTML = "I'm sorry, but I couldn't find your position.";
}
</script>
</head>

<body onload="init()">

<div id="status">
</div>

</body>
</html>